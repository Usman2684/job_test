(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a.n(c),s=a(21),o=a.n(s),i=a(10),u=a(7),l=a(6),p=a(3),d=a.n(p),j=a(8),b=a(11),h=a.n(b),m="SIGNUP_SUCCESS",f="SIGNUP_FAIL",O="LOGIN_SUCCESS",g="LOGIN_FAIL",x="AUTHENTICATED_SUCCESS",v="AUTHENTICATED_FAIL",y="REFRESH_SUCCESS",w="REFRESH_FAIL",S="USER_LOADED_SUCCESS",_="USER_LOADED_FAIL",N="ACTIVATION_SUCCESS",k="ACTIVATION_FAIL",E="RESET_PASSWORD_SUCCESS",C="RESET_PASSWORD_FAIL",A="RESET_PASSWORD_CONFIRM_SUCCESS",I="RESET_PASSWORD_CONFIRM_FAIL",T="GOOGLE_AUTH_SUCCESS",L="GOOGLE_AUTH_FAIL",R="FACEBOOK_AUTH_SUCCESS",U="FACEBOOK_AUTH_FAIL",F="SET_AUTH_LOADING",P="REMOVE_AUTH_LOADING",D="LOGOUT",G="SET_ALERT",H="REMOVE_ALERT",q=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){n({type:G,payload:{msg:e,alertType:t}}),setTimeout((function(){return n({type:H})}),a)}},W=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return a={headers:{Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,h.a.get("".concat("http://localhost:8000","/auth/users/me/"),a);case 5:200===(n=e.sent).status?t({type:S,payload:n.data}):t({type:_}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:_});case 12:e.next=15;break;case 14:t({type:_});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},J=a(9),M=Object(l.b)((function(e){return{alert:e.alert.alert}}))((function(e){var t=e.alert;return Object(n.jsx)(c.Fragment,{children:null!==t?Object(n.jsx)("div",{className:"btn btn-".concat(t.alertType),style:{width:"95%",margin:"5px 2.5%"},children:t.msg}):Object(n.jsx)(c.Fragment,{})})})),z=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(e){e({type:D}),e(q("Loggout Out","success"))}}})((function(e){var t=e.isAuthenticated,a=e.logout,r=Object(c.useState)(!1),s=Object(J.a)(r,2),o=s[0],l=s[1],p=Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link",onClick:function(){a(),l(!0)},href:"#!",children:"Logout"})}),d=Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.c,{className:"nav-link",to:"/login",children:"Login"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.c,{className:"nav-link",to:"/signup",children:"Sign Up"})})]}),j=function(){return Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(n.jsx)(i.b,{className:"navbar-brand",to:"/",children:"Shop Time"}),Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(n.jsxs)("ul",{className:"navbar-nav",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.c,{className:"nav-link",exact:!0,to:"/",children:"Home"})}),t?p:d]})})]})};return Object(n.jsx)(c.Fragment,{children:o?Object(n.jsxs)(c.Fragment,{children:[j(),Object(n.jsx)(M,{}),Object(n.jsx)(u.a,{to:"/"})]}):Object(n.jsxs)(c.Fragment,{children:[j(),Object(n.jsx)(M,{})]})})})),V=Object(l.b)(null,{check_authenticated:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return a={headers:{Accept:"application/json","Content-Type":"application/json"}},n=JSON.stringify({token:localStorage.getItem("access")}),e.prev=3,e.next=6,h.a.post("".concat("http://localhost:8000","/auth/jwt/verify/"),n,a);case 6:200===e.sent.status?t({type:x}):t({type:v}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:v});case 13:e.next=16;break;case 15:t({type:v});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},load_user:W,refresh:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("refresh")){e.next=15;break}return a={headers:{Accept:"application/json","Content-Type":"application/json"}},n=JSON.stringify({refresh:localStorage.getItem("refresh")}),e.prev=3,e.next=6,h.a.post("".concat("http://localhost:8000","/auth/jwt/refresh/"),n,a);case 6:200===(c=e.sent).status?t({type:y,payload:c.data}):t({type:w}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:w});case 13:e.next=16;break;case 15:t({type:w});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.check_authenticated,a=e.load_user,r=e.refresh,s=e.children;return Object(c.useEffect)((function(){r(),t(),a()}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(z,{}),s]})})),B=function(){return Object(n.jsx)("div",{children:"Home Page"})},K=a(23),Y=a.n(K),Q=a(12),X=a.n(Q),Z=Object(l.b)(null,{google_authenticate:function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var c,r,s,o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t||localStorage.getItem("access")){a.next=17;break}return n({type:F}),c={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r={state:e,code:t},s=Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"),a.prev=5,a.next=8,h.a.post("".concat("http://localhost:8000","/auth/o/google-oauth2/?").concat(s),c);case 8:201===(o=a.sent).status?(n({type:T,payload:o.data}),n(W()),n({type:P}),n(q("Logged in successfully","success"))):(n({type:L}),n({type:P}),n(q("Error authenticating","danger"))),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(5),n({type:L}),n({type:P}),n(q("Error authenticating","danger"));case 17:case"end":return a.stop()}}),a,null,[[5,12]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.google_authenticate,a=Object(c.useState)(!1),r=Object(J.a)(a,2),s=r[0],o=r[1],i=Object(u.f)();return Object(c.useEffect)((function(){var e=Y.a.parse(i.search),a=e.state?e.state:null,n=e.code?e.code:null;a&&n&&function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a,n);case 2:o(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i]),s?Object(n.jsx)(u.a,{to:"/dashboard"}):Object(n.jsx)("div",{className:"mt-5 d-flex justify-content-center align-items-center",children:Object(n.jsx)(X.a,{type:"Oval",color:"#424242",height:50,width:50})})})),$=Object(l.b)(null,{facebook_authenticate:function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var c,r,s,o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t||localStorage.getItem("access")){a.next=17;break}return n({type:F}),c={headers:{"Content-Type":"application/x-www-form-urlencoded"}},r={state:e,code:t},s=Object.keys(r).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])})).join("&"),a.prev=5,a.next=8,h.a.post("".concat("http://localhost:8000","/auth/o/facebook/?").concat(s),c);case 8:201===(o=a.sent).status?(n({type:R,payload:o.data}),n(W()),n({type:P}),n(q("Logged in successfully","success"))):(n({type:U}),n({type:P}),n(q("Error authenticating","danger"))),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(5),n({type:U}),n({type:P}),n(q("Error authenticating","danger"));case 17:case"end":return a.stop()}}),a,null,[[5,12]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.facebook_authenticate,a=Object(c.useState)(!1),r=Object(J.a)(a,2),s=r[0],o=r[1],i=Object(u.f)();return Object(c.useEffect)((function(){var e=Y.a.parse(i.search),a=e.state?e.state:null,n=e.code?e.code:null;a&&n&&function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a,n);case 2:o(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i]),s?Object(n.jsx)(u.a,{to:"/dashboard"}):Object(n.jsx)("div",{className:"mt-5 d-flex justify-content-center align-items-center",children:Object(n.jsx)(X.a,{type:"Oval",color:"#424242",height:50,width:50})})})),ee=function(){return Object(n.jsx)("div",{children:"Dashbaord"})},te=a(18),ae=a(2),ne=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,loading:e.auth.loading}}),{login:function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var c,r,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:F}),c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),a.prev=3,a.next=6,h.a.post("".concat("http://localhost:8000","/auth/jwt/create/"),r,c);case 6:200===(s=a.sent).status?(n({type:O,payload:s.data}),n(W()),n({type:P}),n(q("Logged in successfully","success"))):(n({type:g}),n({type:P}),n(q("Error authenticating","danger"))),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(3),n({type:g}),n({type:P}),n(q("Error authenticating","danger"));case 15:case"end":return a.stop()}}),a,null,[[3,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuthenticated,r=e.loading,s=Object(c.useState)({email:"",password:""}),o=Object(J.a)(s,2),l=o[0],p=o[1];Object(c.useEffect)((function(){window.scrollTo(0,0)}));var b=l.email,m=l.password,f=function(e){return p(Object(ae.a)(Object(ae.a)({},l),{},Object(te.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://localhost:8000","/auth/o/google-oauth2/?redirect_uri=").concat("http://localhost:8000","/google"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://localhost:8000","/auth/o/facebook/?redirect_uri=").concat("http://localhost:8000","/facebook"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return a?Object(n.jsx)(u.a,{to:"/dashboard"}):Object(n.jsxs)("div",{className:"container mt-5",children:[Object(n.jsx)("h1",{children:"Sign In"}),Object(n.jsx)("p",{children:"Sign into your Account"}),Object(n.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(b,m)}(e)},children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"email",placeholder:"Email*",name:"email",value:b,onChange:function(e){return f(e)},required:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"password",placeholder:"Password*",name:"password",value:m,onChange:function(e){return f(e)},minLength:"6",required:!0})}),r?Object(n.jsx)("div",{className:"mt-3 d-flex justify-content-center align-items-center",children:Object(n.jsx)(X.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(n.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Login"})]}),Object(n.jsx)("button",{className:"btn btn-danger mt-3",onClick:O,children:"Continue With Google"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"btn btn-primary mt-3",onClick:g,children:"Continue With Facebook"}),Object(n.jsxs)("p",{className:"mt-3",children:["Don't have an account? ",Object(n.jsx)(i.b,{to:"/signup",children:"Sign Up"})]}),Object(n.jsxs)("p",{className:"mt-3",children:["Forgot your Password? ",Object(n.jsx)(i.b,{to:"/reset_password",children:"Reset Password"})]})]})})),ce=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,loading:e.auth.loading}}),{signup:function(e,t,a,n,c){return function(){var r=Object(j.a)(d.a.mark((function r(s){var o,i,u;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s({type:F}),o={headers:{"Content-Type":"application/json"}},i=JSON.stringify({first_name:e,last_name:t,email:a,password:n,re_password:c}),r.prev=3,r.next=6,h.a.post("".concat("http://localhost:8000","/auth/users/"),i,o);case 6:201===(u=r.sent).status?(s({type:m,payload:u.data}),s(q("We sent you an email, please activate your account","success"))):(s({type:f}),s(q("Error creating account","danger"))),s({type:P}),r.next=16;break;case 11:r.prev=11,r.t0=r.catch(3),s({type:f}),s({type:P}),s(q("Error creating account","danger"));case 16:case"end":return r.stop()}}),r,null,[[3,11]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.signup,a=e.isAuthenticated,r=e.loading,s=Object(c.useState)(!1),o=Object(J.a)(s,2),l=o[0],p=o[1],b=Object(c.useState)({first_name:"",last_name:"",email:"",password:"",re_password:""}),m=Object(J.a)(b,2),f=m[0],O=m[1];Object(c.useEffect)((function(){window.scrollTo(0,0)}));var g=f.first_name,x=f.last_name,v=f.email,y=f.password,w=f.re_password,S=function(e){return O(Object(ae.a)(Object(ae.a)({},f),{},Object(te.a)({},e.target.name,e.target.value)))},_=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://localhost:8000","/auth/o/google-oauth2/?redirect_uri=").concat("http://localhost:8000","/google"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat("http://localhost:8000","/auth/o/facebook/?redirect_uri=").concat("http://localhost:8000","/facebook"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return a?Object(n.jsx)(u.a,{to:"/"}):(l&&u.a,Object(n.jsxs)("div",{className:"container mt-5",children:[Object(n.jsx)("h1",{children:"Sign Up"}),Object(n.jsx)("p",{children:"Create your Account"}),Object(n.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(g,x,v,y,w),p(!0)}(e)},children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"text",placeholder:"First Name*",name:"first_name",value:g,onChange:function(e){return S(e)},required:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"text",placeholder:"Last Name*",name:"last_name",value:x,onChange:function(e){return S(e)},required:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"email",placeholder:"Email*",name:"email",value:v,onChange:function(e){return S(e)},required:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"password",placeholder:"Password*",name:"password",value:y,onChange:function(e){return S(e)},minLength:"6",required:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"password",placeholder:"Confirm Password*",name:"re_password",value:w,onChange:function(e){return S(e)},minLength:"6",required:!0})}),r?Object(n.jsx)("div",{className:"mt-3 d-flex justify-content-center align-items-center",children:Object(n.jsx)(X.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(n.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Register"})]}),Object(n.jsx)("button",{className:"btn btn-danger mt-3",onClick:_,children:"Continue With Google"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"btn btn-primary mt-3",onClick:N,children:"Continue With Facebook"}),Object(n.jsxs)("p",{className:"mt-3",children:["Already have an account? ",Object(n.jsx)(i.b,{to:"/login",children:"Sign In"})]})]}))})),re=Object(l.b)((function(e){return{loading:e.auth.loading}}),{activate:function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(n){var c,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:F}),c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({uid:e,token:t}),a.prev=3,a.next=6,h.a.post("".concat("http://localhost:8000","/auth/users/activation/"),r,c);case 6:204===a.sent.status?(n({type:N}),n(q("Successfully activated your Account","success"))):(n({type:k}),n(q("Error activating account","danger"))),n({type:P}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(3),n({type:k}),n({type:P}),n(q("Error creating account","danger"));case 16:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.loading,r=e.activate,s=Object(c.useState)(!1),o=Object(J.a)(s,2),i=o[0],l=o[1];return i&&!a?Object(n.jsx)(u.a,{to:"/"}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",style:{marginTop:"200px"},children:[Object(n.jsx)("h1",{children:"Activate your Account:"}),a?Object(n.jsx)("div",{className:"mt-3 d-flex justify-content-center align-items-center",children:Object(n.jsx)(X.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(n.jsx)("button",{className:"btn btn-primary",style:{marginTop:"50px"},type:"button",onClick:function(){var e=t.params.uid,a=t.params.token;r(e,a),l(!0)},children:"Activate"})]})})})),se=Object(l.b)((function(e){return{loading:e.auth.loading}}),{reset_password:function(e){return function(){var t=Object(j.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:F}),n={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e}),t.prev=3,t.next=6,h.a.post("".concat("http://localhost:8000","/auth/users/reset_password/"),c,n);case 6:204===t.sent.status?(a({type:E}),a({type:P}),a(q("Password reset email sent","success"))):(a({type:C}),a({type:P}),a(q("Error sending password reset email","danger"))),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(3),a({type:C}),a({type:P}),a(q("Error sending password reset email","danger"));case 15:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.loading,a=e.reset_password,r=Object(c.useState)(!1),s=Object(J.a)(r,2),o=s[0],i=s[1],l=Object(c.useState)({email:""}),p=Object(J.a)(l,2),d=p[0],j=p[1];Object(c.useEffect)((function(){window.scrollTo(0,0)}));var b=d.email;return o&&!t?Object(n.jsx)(u.a,{to:"/"}):Object(n.jsxs)("div",{className:"container mt-5",children:[Object(n.jsx)("h1",{className:"mb-5",children:"Request Password Reset:"}),Object(n.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(b),i(!0)}(e)},children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control mb-3",type:"email",placeholder:"Your Email",name:"email",value:b,onChange:function(e){return function(e){return j(Object(ae.a)(Object(ae.a)({},d),{},Object(te.a)({},e.target.name,e.target.value)))}(e)},required:!0})}),t?Object(n.jsx)("div",{className:"mt-3 d-flex justify-content-center align-items-center",children:Object(n.jsx)(X.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(n.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Reset Password"})]})]})})),oe=Object(l.b)((function(e){return{loading:e.auth.loading}}),{reset_password_confirm:function(e,t,a,n){return function(){var c=Object(j.a)(d.a.mark((function c(r){var s,o;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r({type:F}),s={headers:{"Content-Type":"application/json"}},o=JSON.stringify({uid:e,token:t,new_password:a,re_new_password:n}),a===n){c.next=9;break}r({type:I}),r({type:P}),r(q("Passwords do not match","danger")),c.next=21;break;case 9:return c.prev=9,c.next=12,h.a.post("".concat("http://localhost:8000","/auth/users/reset_password_confirm/"),o,s);case 12:204===c.sent.status?(r({type:A}),r({type:P}),r(q("Password has been reset successfully","success"))):(r({type:I}),r({type:P}),r(q("Error resetting your password","danger"))),c.next=21;break;case 16:c.prev=16,c.t0=c.catch(9),r({type:I}),r({type:P}),r(q("Error resetting your password","danger"));case 21:case"end":return c.stop()}}),c,null,[[9,16]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.loading,r=e.reset_password_confirm,s=Object(c.useState)(!1),o=Object(J.a)(s,2),i=o[0],l=o[1],p=Object(c.useState)({new_password:"",re_new_password:""}),d=Object(J.a)(p,2),j=d[0],b=d[1];Object(c.useEffect)((function(){window.scrollTo(0,0)}));var h=j.new_password,m=j.re_new_password,f=function(e){return b(Object(ae.a)(Object(ae.a)({},j),{},Object(te.a)({},e.target.name,e.target.value)))};return i&&!a?Object(n.jsx)(u.a,{to:"/"}):Object(n.jsxs)("div",{className:"container mt-5",children:[Object(n.jsx)("h1",{className:"mb-5",children:"Reset Your Password:"}),Object(n.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var a=t.params.uid,n=t.params.token;r(a,n,h,m),h===m&&l(!0)}(e)},children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"password",placeholder:"New Password",name:"new_password",value:h,onChange:function(e){return f(e)},minLength:"6",required:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"form-control",type:"password",placeholder:"Confirm New Password",name:"re_new_password",value:m,onChange:function(e){return f(e)},minLength:"6",required:!0})}),a?Object(n.jsx)("div",{className:"mt-3 d-flex justify-content-center align-items-center",children:Object(n.jsx)(X.a,{type:"Oval",color:"#424242",height:50,width:50})}):Object(n.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Reset Password"})]})]})})),ie=a(19),ue=a(41),le=a(42),pe={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null,loading:!1},de={alert:null},je=Object(ie.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case F:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0});case P:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!1});case S:return Object(ae.a)(Object(ae.a)({},e),{},{user:n});case _:return Object(ae.a)(Object(ae.a)({},e),{},{user:null});case x:return Object(ae.a)(Object(ae.a)({},e),{},{isAuthenticated:!0});case v:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(ae.a)(Object(ae.a)({},e),{},{isAuthenticated:!1,access:null,refresh:null});case O:case T:case R:return localStorage.setItem("access",n.access),localStorage.setItem("refresh",n.refresh),Object(ae.a)(Object(ae.a)({},e),{},{isAuthenticated:!0,access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh")});case N:case k:case E:case C:case A:case I:return Object(ae.a)({},e);case y:return localStorage.setItem("access",n.access),Object(ae.a)(Object(ae.a)({},e),{},{access:localStorage.getItem("access")});case m:case f:case g:case L:case U:case w:case D:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(ae.a)(Object(ae.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case G:return Object(ae.a)(Object(ae.a)({},e),{},{alert:n});case H:return Object(ae.a)(Object(ae.a)({},e),{},{alert:null});default:return e}}}),be=[le.a],he=Object(ie.createStore)(je,{},Object(ue.composeWithDevTools)(ie.applyMiddleware.apply(void 0,be))),me=function(){return Object(n.jsx)(l.a,{store:he,children:Object(n.jsx)(i.a,{children:Object(n.jsxs)(V,{children:[Object(n.jsx)(u.b,{exact:!0,path:"/",component:B}),Object(n.jsx)(u.b,{exact:!0,path:"/dashboard",component:ee}),Object(n.jsx)(u.b,{exact:!0,path:"/login",component:ne}),Object(n.jsx)(u.b,{exact:!0,path:"/signup",component:ce}),Object(n.jsx)(u.b,{exact:!0,path:"/google",component:Z}),Object(n.jsx)(u.b,{exact:!0,path:"/facebook",component:$}),Object(n.jsx)(u.b,{exact:!0,path:"/activate/:uid/:token",component:re}),Object(n.jsx)(u.b,{exact:!0,path:"/reset_password",component:se}),Object(n.jsx)(u.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",component:oe})]})})})};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(me,{})}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.e2e4fa44.chunk.js.map